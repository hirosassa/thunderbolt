language: python
python:
- 3.7
script:
- pip install yapf
- diffs=$(yapf -dr --style=yapf.ini ./thunderbolt)
- if [ -n "$diffs" ]; then exit 1; fi
- python setup.py install
- python -m unittest discover -s ./test/
deploy:
  on:
    branch: master
    tags: true
  provider: pypi
  user: vaaaaanquish
  distributions: sdist bdist_wheel
  server: https://upload.pypi.org/legacy/
  skip_existing: true
  password:
    secure: OqnCUW198SCApbJ3lZcgsAM7OI5TtF3YyB/n+6djkfAZbZpj3GYEZKZIJph/H3BjGAzPNOGPviACTeK6pbbFmk+xRKetlm/+njjkIEvTEeprzHvOmt7B8TjrOY6Iq/5Zp/18dqZGQmHrH0fdJKwIrHG1dTr1ncx3i9wDmgnppp9E5Mv8cDHUyCiC7MtYyMm6CGgcQrCu7BusjmxnvWm352WFn3dH5f0pZ6Ta45HWk2uGdSRdusFJfsX7gZbOluFLAdVizMKziXNl4JXtgVKEMdYmAqLiSlqOJZyih3Z8heGNUgKqrMNT58dX+1Qb+Vp/zQTL5mmgaWamS1J1nhSStxtwqiZ+JmBnzlCyZAZQH2eQ178WtBCSsUCR1NcHDasG9o/wMiMVc5OXgxEvtx4fyZuLhfbBSAz/zrsVq/zsxpp96YcUosvNz2wlkiomwk60H2mZ6NWIjw/aeLdabJd9RpQGZ4qMxrTAqt9iBWkfzQIGR2M/++4OexxIFX7z08LC9nGvNkldMZgaqTL7IwYXQ3WQnq5iCKzO8sISy1f1mhGsH3xbIEk2MWqcH5DyCJJ5cJF36UjRjRLmgF1A0bKGrnCqtBveFgQNDQCQz42w/vWyygPFdm1KiG2bWnf0r7r2c2qcGwrO0LS5OGSjh995JASBQH6b/6Z/gVprnlZZnog=
